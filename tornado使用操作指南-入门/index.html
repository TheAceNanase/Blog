<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>tornadoä½¿ç”¨æ“ä½œæŒ‡å—--å…¥é—¨ - ğŸ’—Nanase</title><meta name="Description" content=""><meta property="og:title" content="tornadoä½¿ç”¨æ“ä½œæŒ‡å—--å…¥é—¨" />
<meta property="og:description" content="æ–°å…¬å¸ä½¿ç”¨tornadoæ¡†æ¶è¾ƒå¤šï¼Œå…ˆè‡ªå·±äº†è§£ä¸€ä¸‹ç›¸å…³çŸ¥è¯†ã€‚ 1. tornadoä»‹ç» åœ¨Pythonçš„ä¼—å¤šä¼˜ç§€çš„Webæ¡†æ¶ä¸­ï¼ŒTornadoæ¡†æ¶ä¸»è¦" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://www.nishinonanase.xyz/tornado%E4%BD%BF%E7%94%A8%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97-%E5%85%A5%E9%97%A8/" />
<meta property="og:image" content="http://www.nishinonanase.xyz/logo.png"/>
<meta property="article:published_time" content="2020-08-19T20:37:58+08:00" />
<meta property="article:modified_time" content="2020-08-19T20:37:58+08:00" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="http://www.nishinonanase.xyz/logo.png"/>

<meta name="twitter:title" content="tornadoä½¿ç”¨æ“ä½œæŒ‡å—--å…¥é—¨"/>
<meta name="twitter:description" content="æ–°å…¬å¸ä½¿ç”¨tornadoæ¡†æ¶è¾ƒå¤šï¼Œå…ˆè‡ªå·±äº†è§£ä¸€ä¸‹ç›¸å…³çŸ¥è¯†ã€‚ 1. tornadoä»‹ç» åœ¨Pythonçš„ä¼—å¤šä¼˜ç§€çš„Webæ¡†æ¶ä¸­ï¼ŒTornadoæ¡†æ¶ä¸»è¦"/>
<meta name="application-name" content="ğŸ’—Nanase">
<meta name="apple-mobile-web-app-title" content="ğŸ’—Nanase"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://www.nishinonanase.xyz/tornado%E4%BD%BF%E7%94%A8%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97-%E5%85%A5%E9%97%A8/" /><link rel="prev" href="http://www.nishinonanase.xyz/%E5%9C%A8%E4%B8%8A%E6%B5%B7%E6%89%BE%E5%88%B0%E6%96%B0%E5%B7%A5%E4%BD%9C%E5%95%A6%E5%BC%80%E5%BF%83/" /><link rel="next" href="http://www.nishinonanase.xyz/tornado%E8%B7%AF%E7%94%B1%E8%A7%84%E5%88%99%E4%B8%8E%E8%A1%8C%E4%B8%BA%E6%96%B9%E6%B3%95%E4%B8%8E%E5%88%87%E5%85%A5%E7%82%B9%E5%87%BD%E6%95%B0/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "tornadoä½¿ç”¨æ“ä½œæŒ‡å—--å…¥é—¨",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/www.nishinonanase.xyz\/tornado%E4%BD%BF%E7%94%A8%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97-%E5%85%A5%E9%97%A8\/"
        },"genre": "posts","keywords": "Tornado, æŠ€æœ¯è¦ç‚¹","wordcount":  2755 ,
        "url": "http:\/\/www.nishinonanase.xyz\/tornado%E4%BD%BF%E7%94%A8%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97-%E5%85%A5%E9%97%A8\/","datePublished": "2020-08-19T20:37:58+08:00","dateModified": "2020-08-19T20:37:58+08:00","publisher": {
            "@type": "Organization",
            "name": "Nanase","logo": "http:\/\/www.nishinonanase.xyz\/images\/avatar.png"},"author": {
                "@type": "Person",
                "name": "Nanase"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : '' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="ğŸ’—Nanase">ğŸ’—Nanase</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> ğŸ‘å…¨éƒ¨æ–‡ç«  </a><a class="menu-item" href="/tags/"> ğŸŠæ ‡ç­¾ </a><a class="menu-item" href="/categories/"> ğŸ“åˆ†ç±» </a><a class="menu-item" href="/about/"> ğŸ¥å…³äº </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="ğŸ’—Nanase">ğŸ’—Nanase</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/posts/" title="">ğŸ‘å…¨éƒ¨æ–‡ç« </a><a class="menu-item" href="/tags/" title="">ğŸŠæ ‡ç­¾</a><a class="menu-item" href="/categories/" title="">ğŸ“åˆ†ç±»</a><a class="menu-item" href="/about/" title="">ğŸ¥å…³äº</a><a href="javascript:void(0);" class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">ç›®å½•</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">tornadoä½¿ç”¨æ“ä½œæŒ‡å—--å…¥é—¨</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Nanase</a></span>&nbsp;<span class="post-category">æ”¶å½•äº <a href="/categories/%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9/"><i class="far fa-folder fa-fw"></i>æŠ€æœ¯è¦ç‚¹</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2020-08-19">2020-08-19</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;çº¦ 2755 å­—&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;é¢„è®¡é˜…è¯» 6 åˆ†é’Ÿ&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>ç›®å½•</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#1-tornadoä»‹ç»">1. tornadoä»‹ç»</a></li>
        <li><a href="#2-å®‰è£…tornado">2. å®‰è£…tornado</a>
          <ul>
            <li><a href="#21è™šæ‹Ÿç¯å¢ƒæ­å»º">2.1è™šæ‹Ÿç¯å¢ƒæ­å»º</a></li>
            <li><a href="#22-å®‰è£…">2.2 å®‰è£…</a></li>
          </ul>
        </li>
        <li><a href="#3-åŸºäºtornadoçš„æœ€ç®€å•åº”ç”¨å•è¿›ç¨‹">3. åŸºäºtornadoçš„æœ€ç®€å•åº”ç”¨ï¼ˆå•è¿›ç¨‹ï¼‰</a>
          <ul>
            <li><a href="#31-ä»£ç åˆ†æ">3.1 ä»£ç åˆ†æ</a></li>
          </ul>
        </li>
        <li><a href="#4-ä¿®æ”¹å¯åŠ¨æ–¹å¼ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°å¯åŠ¨æœåŠ¡">4. ä¿®æ”¹å¯åŠ¨æ–¹å¼ï¼Œä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°å¯åŠ¨æœåŠ¡</a></li>
        <li><a href="#5-åŸºäºtornadoçš„æœ€ç®€å•åº”ç”¨å¤šè¿›ç¨‹">5. åŸºäºtornadoçš„æœ€ç®€å•åº”ç”¨ï¼ˆå¤šè¿›ç¨‹ï¼‰</a></li>
        <li><a href="#6-å–æ¶ˆæ—¥å¿—æ‰“å°">6. å–æ¶ˆæ—¥å¿—æ‰“å°</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>æ–°å…¬å¸ä½¿ç”¨tornadoæ¡†æ¶è¾ƒå¤šï¼Œå…ˆè‡ªå·±äº†è§£ä¸€ä¸‹ç›¸å…³çŸ¥è¯†ã€‚</p>
<h2 id="1-tornadoä»‹ç»">1. tornadoä»‹ç»</h2>
<p>åœ¨Pythonçš„ä¼—å¤šä¼˜ç§€çš„Webæ¡†æ¶ä¸­ï¼ŒTornadoæ¡†æ¶ä¸»è¦ç”¨äºå¤„ç†æ—¥è¶‹ä¸¥å³»çš„é«˜å¹¶å‘é—®é¢˜ï¼Œå…¶åœ¨åˆ›å»ºã€æ‰©å±•ä»¥åŠéƒ¨ç½²ä¸­éƒ½æœ‰éå¸¸ä¼˜ç§€çš„ä½“ç°ã€‚æ­£æ˜¯å› ä¸ºTornadoæ¡†æ¶åœ¨è®¾è®¡ä¹‹åˆå°±è€ƒè™‘åˆ°æ€§èƒ½é—®é¢˜ï¼Œæ—¨åœ¨è§£å†³C1OKé—®é¢˜ï¼Œè¿™æ‰å°†Tornadoè®¾è®¡æˆä¸ºä¸€ä¸ªæ‹¥æœ‰éå¸¸é«˜æ€§èƒ½çš„æ¡†æ¶ã€‚</p>
<p>Tornadoæ˜¯åŸºäºBret Taylorå’Œå…¶ä»–äººå‘˜ä¸ºFriendFeedæ‰€å¼€å‘çš„ç½‘ç»œæœåŠ¡æ¡†æ¶ï¼Œå¾—åˆ©äºå…¶éé˜»å¡çš„æ–¹å¼å’Œå¯¹epollçš„è¿ç”¨ï¼ŒTornadoå¯ä»¥å¤„ç†æ•°ä»¥åƒè®¡çš„è¿æ¥ï¼Œæ˜¯ç†æƒ³çš„å®æ—¶é€šä¿¡Webæ¡†æ¶ã€‚å› æ­¤å¦‚æœéœ€è¦ç¼–å†™ä¸€ä¸ªå¯æ‰©å±•æ€§çš„åº”ç”¨ã€RESTful APIæˆ–å¼‚æ­¥ï¼Œé‚£ä¹ˆTornadoæ¡†æ¶æ˜¯é¦–é€‰çš„é€‰æ‹©ã€‚</p>
<p><a href="http://www.tornadoweb.org/en/stable/" target="_blank" rel="noopener noreffer">å®˜æ–¹æ–‡æ¡£åœ°å€</a></p>
<p><a href="http://shouce.jb51.net/tornado/ch1.html#ch1-1-1" target="_blank" rel="noopener noreffer">èµ„æ–™æ–‡æ¡£åœ°å€</a></p>
<h2 id="2-å®‰è£…tornado">2. å®‰è£…tornado</h2>
<h3 id="21è™šæ‹Ÿç¯å¢ƒæ­å»º">2.1è™šæ‹Ÿç¯å¢ƒæ­å»º</h3>
<p>åˆ›å»ºtornadoenvè™šæ‹Ÿç¯å¢ƒ:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">virtualenv --no-site-packages -p D:\python3\python.exe tornadoenv
</code></pre></td></tr></table>
</div>
</div><p>æ¿€æ´»windowsä¸‹è™šæ‹Ÿç¯å¢ƒ:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">cd Scripts

activate
</code></pre></td></tr></table>
</div>
</div><h3 id="22-å®‰è£…">2.2 å®‰è£…</h3>
<p>åœ¨æ¿€æ´»çš„è™šæ‹Ÿç¯å¢ƒtornadoenvä¸­å®‰è£…:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">pip install tornado

</code></pre></td></tr></table>
</div>
</div><h2 id="3-åŸºäºtornadoçš„æœ€ç®€å•åº”ç”¨å•è¿›ç¨‹">3. åŸºäºtornadoçš„æœ€ç®€å•åº”ç”¨ï¼ˆå•è¿›ç¨‹ï¼‰</h2>
<p>åˆ›å»ºFirstTornado.pyæ–‡ä»¶</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">
import tornado.ioloop
import tornado.web
class MainHandler(tornado.web.RequestHandler):

â€‹    def get(self):

â€‹      self.write(&#34;Hello, world&#34;)

def make_app():

â€‹    return tornado.web.Application(handlers=[

â€‹      (r&#34;/hello&#34;, MainHandler),

â€‹    ])

if __name__ == &#34;__main__&#34;:
â€‹    app = make_app()
â€‹    app.listen(8888)
â€‹    tornado.ioloop.IOLoop.current().start()
</code></pre></td></tr></table>
</div>
</div><p>è¿è¡Œï¼špython FirstTornado.py</p>
<p>å¦‚ä¸‹è¿›è¡Œè¯¦ç»†è®²è§£æ¯ä¸€è¡Œä»£ç çš„å«ä¹‰ï¼Œå¦‚ä¸‹:</p>
<p><b>ç¼–å†™ä¸€ä¸ªTornadoåº”ç”¨ä¸­æœ€å¤šçš„å·¥ä½œæ˜¯å®šä¹‰ç±»ç»§æ‰¿Tornadoçš„RequestHandlerç±»ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„åº”ç”¨ï¼Œåœ¨ç»™å®šçš„ç«¯å£ç›‘å¬è¯·æ±‚ï¼Œå¹¶åœ¨è·¯ç”±ï¼ˆ&quot;/hello&rdquo;ï¼‰å“åº”è¯·æ±‚ã€‚</b></p>
<p>ä½ å¯ä»¥åœ¨å‘½ä»¤è¡Œé‡Œå°è¯•è¿è¡Œè¿™ä¸ªç¨‹åºä»¥æµ‹è¯•è¾“å‡ºï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">python hello.py
</code></pre></td></tr></table>
</div>
</div><p>ç°åœ¨å¯ä»¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€http://localhost:8888/helloï¼Œ</p>
<h3 id="31-ä»£ç åˆ†æ">3.1 ä»£ç åˆ†æ</h3>
<p>ç¤ºä¾‹ä¸­ç¼–å†™çš„Tornadoåº”ç”¨æ²¡æœ‰ä½¿ç”¨ä»»ä½•Tornadoçš„å¼‚æ­¥åŠŸèƒ½ï¼Œåªæ˜¯å®šä¹‰äº†ä¸€ä¸ªMainHandlerç±»ï¼Œå¹¶ç»§æ‰¿äº†Tornadoçš„RequestHandlerç±»ã€‚</p>
<p>ç¤ºä¾‹ä»£ç åˆ†æå¦‚ä¸‹:</p>
<p><b> 1) MainHandlerç±»:</b></p>
<p>MainHandlerç±»æ˜¯Tornadoçš„è¯·æ±‚å¤„ç†å‡½æ•°ç±»ï¼Œå½“å¤„ç†ä¸€ä¸ªè¯·æ±‚æ—¶ï¼ŒTornadoä¼šå®ä¾‹åŒ–è¿™ä¸ªç±»ï¼Œå¹¶è°ƒç”¨ä¸HTTPè¯·æ±‚æ–¹æ³•æ‰€å¯¹åº”çš„æ–¹æ³•ã€‚åœ¨ç¤ºä¾‹ä¸­çš„MainHandlerç±»ä¸­å®šä¹‰äº†getæ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´å½“HTTPè¯·æ±‚æ–¹å¼ä¸ºGETæ—¶ï¼ŒMainHandlerä¸­çš„getæ–¹æ³•å°†ä¼šè¢«è°ƒç”¨å¹¶ä½œå‡ºå“åº”ã€‚</p>
<p><b> 2ï¼‰self.write()æ–¹æ³•</b></p>
<p>ä»¥ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‡½æ•°çš„å‚æ•°ï¼Œå°†å­—ç¬¦ä¸²å†™å…¥åˆ°HTTPå“åº”ä¸­ã€‚</p>
<p><b> 3ï¼‰make_app()æ–¹æ³•</b></p>
<p>è¿”å›ä¸€ä¸ªTornadoçš„Applicationç±»çš„å®ä¾‹ï¼Œä¼ é€’ç»™Applicationç±»çš„__init__æ–¹æ³•ä¸­çš„æœ€é‡è¦çš„å‚æ•°å°±æ˜¯handlersï¼Œè¯¥å‚æ•°è¡¨ç¤ºå‘ŠçŸ¥Tornadoåº”ç”¨åº”è¯¥è°ƒç”¨é‚£ä¸ªç±»æ¥å¤„ç†å“åº”ã€‚æ¯”å¦‚æœ¬ä¾‹å­ä¸­æƒ³è°ƒç”¨MainHandlerä¸­çš„getæ–¹æ³•ï¼Œåˆ™åº”è¯¥è®¿é—®http://127.0.0.1:8888/helloåœ°å€ã€‚</p>
<p><b> 4) app.listen(8888)</b></p>
<p>Applicationå¯¹è±¡è¢«åˆ›å»ºåï¼Œå¯ä»¥è°ƒç”¨listen()æ–¹æ³•æ¥ç›‘å¬ç«¯å£å’ŒIPåœ°å€ã€‚å¦‚æœ¬ä¾‹å­ä¸­ç›‘å¬çš„ç«¯å£ä¸º8888ï¼Œç”±äºIPåœ°å€æ²¡æœ‰å®šä¹‰ï¼Œå› æ­¤å¯ç›´æ¥è®¿é—®127.0.0.1æˆ–è€…å…¬ç½‘IPåœ°å€ã€‚</p>
<p>å¦‚æœapp.listen(port=8888ï¼Œaddress=â€˜localhostâ€™)åˆ™è¡¨ç¤ºåªèƒ½é€šè¿‡æœ¬åœ°127.0.0.1:8888è®¿é—®ã€‚</p>
<p>å¦‚æœapp.listen(port=8888, address='0.0.0.0&rsquo;)åˆ™è¡¨ç¤ºå¯ä»¥é€šè¿‡127.0.0.1:8888æˆ–å…¬ç½‘IPåœ°å€:8888è®¿é—®ã€‚å…¶æ•ˆæœå’Œapp.listen(8888)æ˜¯ä¸€æ ·çš„ï¼Œaddresså‚æ•°é»˜è®¤å¯ä¸å†™ã€‚</p>
<p>é‡ç‚¹: app.listen()è°ƒç”¨çš„ä»£ç å¦‚ä¸‹:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">from tornado.httpserver import HTTPServer
server = HTTPServer(self, **kwargs)
server.listen(port, address)
return server

</code></pre></td></tr></table>
</div>
</div><p><b> 5ï¼‰tornado.ioloop.IOLoop.current().start()</b></p>
<p>ç”¨äºåˆ›å»ºä¸€ä¸ªTornadoçš„IOLoopçš„å®ä¾‹ï¼Œå¹¶ä¸€ç›´è¿è¡ŒTornadoé¡¹ç›®ï¼Œç”¨äºæ¥æ”¶å¤„ç†å®¢æˆ·ç«¯çš„è®¿é—®è¯·æ±‚ã€‚</p>
<p>åœ¨è™šæ‹Ÿç¯å¢ƒtornadoenvä¸­è¿è¡ŒFirstTornado.pyæ–‡ä»¶ï¼Œç„¶ååœ¨æµè§ˆå™¨ä¸­è®¿é—®http://127.0.0.1:8888/helloåœ°å€æˆ–è€…http://å…¬ç½‘ipåœ°å€:8888/helloåœ°å€</p>
<h2 id="4-ä¿®æ”¹å¯åŠ¨æ–¹å¼ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°å¯åŠ¨æœåŠ¡">4. ä¿®æ”¹å¯åŠ¨æ–¹å¼ï¼Œä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°å¯åŠ¨æœåŠ¡</h2>
<p>ä¿®æ”¹æœ€ç®€å•çš„tornadoç¨‹åº,å‘½åä¸ºhelloTornado2.pyã€‚ å¦‚ä¸‹:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">import tornado.ioloop
import tornado.web
from tornado.options import define, options, parse_command_line

å®šä¹‰é»˜è®¤çš„ç«¯å£
define(&#39;port&#39;, default=8000, type=int)

class MainHandler(tornado.web.RequestHandler):
def get(self):
â€‹    self.write(&#34;Hello, world&#34;)

def make_app():
    return tornado.web.Application(handlers=[
    â€‹    (r&#34;/hello&#34;, MainHandler),
    ])

if __name__ == &#34;__main__&#34;:

    #è§£æå‘½ä»¤è¡Œ
    parse_command_line()
    #è·å–Applicationå¯¹è±¡
    app = make_app()
    #ç›‘å¬ç«¯å£
    app.listen(options.port)
    #å¯åŠ¨IOLoopå®ä¾‹
    tornado.ioloop.IOLoop.current().start()

</code></pre></td></tr></table>
</div>
</div><p><b>Tornadoä¸­åŒ…å«äº†ä¸€ä¸ªæœ‰ç”¨çš„è¯»å–å‘½ä»¤è¡Œçš„æ¨¡å—ï¼ˆtornado.optionsï¼‰ï¼Œå¯ä»¥ä½¿ç”¨tornado.optionsæ¨¡å—æ¥æŒ‡å®šåº”ç”¨ç›‘å¬HTTPè¯·æ±‚çš„ç«¯å£ã€‚</b></p>
<p>è¯»å–å‘½ä»¤è¡Œä¸­çš„é…ç½®</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">from tornado.options import define, options, parse_command_line
</code></pre></td></tr></table>
</div>
</div><p>å®šä¹‰é»˜è®¤çš„ç«¯å£</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">define(&#39;port&#39;, default=8000, type=int)
</code></pre></td></tr></table>
</div>
</div><p>å¯¼å…¥tornado.optionsçš„defineå‡½æ•°ï¼Œdefineå‡½æ•°ä¸­æ¥æ”¶äº†<b>ä¸‰ä¸ªå‚æ•°</b>ï¼Œåˆ†æå¦‚ä¸‹:</p>
<p><b> 1ï¼‰ç¬¬ä¸€ä¸ªå‚æ•°â€˜portâ€™ </b></p>
<p>è¡¨ç¤ºå®šä¹‰çš„portå‚æ•°å°†æˆä¸ºå…¨å±€optionsçš„ä¸€ä¸ªå±æ€§ã€‚</p>
<p><b> 2ï¼‰ç¬¬äºŒä¸ªå‚æ•°default </b></p>
<p>è¡¨ç¤ºportå±æ€§çš„é»˜è®¤å€¼ï¼Œé»˜è®¤å€¼ä¸º8000ã€‚å¦‚æœåœ¨å¯åŠ¨å‘½ä»¤è¡Œä¸­æ²¡æœ‰æŒ‡å®športå‚æ•°ï¼Œåˆ™é¡¹ç›®å¯åŠ¨çš„ç«¯å£é»˜è®¤ä¸º8000ã€‚å¦‚æœåœ¨å¯åŠ¨å‘½ä»¤è¡Œä¸­æŒ‡å®šäº†portå‚æ•°ï¼Œåˆ™ä½¿ç”¨å‘½ä»¤è¡Œä¸­çš„å‚æ•°ä½œä¸ºé¡¹ç›®å¯åŠ¨çš„ç«¯å£ã€‚</p>
<p><b> 3ï¼‰ç¬¬ä¸‰ä¸ªå‚æ•°type </b></p>
<p>ç”¨äºåšå‚æ•°ç±»å‹çš„æ ¡éªŒï¼Œå½“ä¸é€‚åˆçš„å‚æ•°ç±»å‹è¢«ç»™äºˆæ—¶ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ç¤ºä¾‹ä¸­æŒ‡å®štypeä¸ºintç±»å‹ï¼Œåˆ™è¡¨ç¤ºå‘½ä»¤è¡Œä¸­çš„æŒ‡å®šçš„portå‚æ•°å¿…é¡»ä¸ºæ•´å‹ã€‚</p>
<p><b style="color:red;"> å¯åŠ¨å¹¶è¿è¡ŒhelloTornado2.py </b></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">python helloTornado2.py --port=8888
</code></pre></td></tr></table>
</div>
</div><h2 id="5-åŸºäºtornadoçš„æœ€ç®€å•åº”ç”¨å¤šè¿›ç¨‹">5. åŸºäºtornadoçš„æœ€ç®€å•åº”ç”¨ï¼ˆå¤šè¿›ç¨‹ï¼‰</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">import tornado.ioloop
import tornado.web
import tornado.httpserver
from tornado.options import define, options, parse_command_line
define(&#39;port&#39;, default=8000, type=int)

class MainHandler(tornado.web.RequestHandler):

def get(self):
â€‹    self.write(&#34;Hello, world&#34;)

if __name__ == &#34;__main__&#34;:

    #è§£æå‘½ä»¤è¡Œ
    parse_command_line()
    #è·å–Applicationå¯¹è±¡
    app = make_app()
    #è·å–httpserverå¯¹è±¡
    server = tornado.httpserver.HTTPServer(app)
    #ç›‘å¬ç«¯å£
    server.bind(options.port)
    server.start(0)
    #å¯åŠ¨IOLoopå®ä¾‹
    tornado.ioloop.IOLoop.current().start()
</code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„: æŒ‡å®šå¤šè¿›ç¨‹çš„æ–¹å¼åªèƒ½åœ¨linuxä¸‹æ‰å¯è¡Œï¼Œåœ¨windowsä¸‹ä¼šæŠ¥é”™ã€‚å®ä¾‹ä¸­ä»£ç server.start(num_processes)æ–¹æ³•ç”¨äºæŒ‡å®šå¼€å¯å‡ ä¸ªè¿›ç¨‹ã€‚</p>
<ul>
<li>
<p>å¦‚æœnum_processesé»˜è®¤ä¸º1ï¼Œè¡¨ç¤ºå¼€å¯ä¸€ä¸ªè¿›ç¨‹ã€‚</p>
</li>
<li>
<p>å¦‚æœnum_processeså‚æ•°ä¸ºNoneæˆ–è€…&lt;=0,åˆ™è¡¨ç¤ºè‡ªåŠ¨æ ¹æ®æœºå™¨ç¡¬ä»¶çš„cpuæ ¸æ•°åˆ›å»ºåŒç­‰æ•°ç›®çš„å­è¿›ç¨‹ã€‚</p>
</li>
<li>
<p>å¦‚æœnum_processeså‚æ•°&gt;0ï¼Œåˆ™åˆ›å»ºnum_processesä¸ªå­è¿›ç¨‹ã€‚</p>
</li>
</ul>
<p>å› æ­¤åœ¨windowsä¸­num_processesä¸€èˆ¬ä¸å†™æˆ–è€…å†™1ã€‚ss</p>
<h2 id="6-å–æ¶ˆæ—¥å¿—æ‰“å°">6. å–æ¶ˆæ—¥å¿—æ‰“å°</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">
from tornado.options import optionsï¼Œparse_command_line
å–æ¶ˆæ—¥å¿—æ‰“å°
options.logging=None
è§£æå‘½ä»¤è¡Œ
parse_command_line()

</code></pre></td></tr></table>
</div>
</div></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>æ›´æ–°äº 2020-08-19</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/tornado%E4%BD%BF%E7%94%A8%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97-%E5%85%A5%E9%97%A8/index.md" target="_blank">é˜…è¯»åŸå§‹æ–‡æ¡£</a>
                        </span></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/tornado/">Tornado</a>,&nbsp;<a href="/tags/%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9/">æŠ€æœ¯è¦ç‚¹</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">è¿”å›</a></span>&nbsp;|&nbsp;<span><a href="/">ä¸»é¡µ</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/%E5%9C%A8%E4%B8%8A%E6%B5%B7%E6%89%BE%E5%88%B0%E6%96%B0%E5%B7%A5%E4%BD%9C%E5%95%A6%E5%BC%80%E5%BF%83/" class="prev" rel="prev" title="ğŸ’—åœ¨ä¸Šæµ·æ‰¾åˆ°æ–°å·¥ä½œå•¦ï¼Œå¼€å¿ƒï¼"><i class="fas fa-angle-left fa-fw"></i>ğŸ’—åœ¨ä¸Šæµ·æ‰¾åˆ°æ–°å·¥ä½œå•¦ï¼Œå¼€å¿ƒï¼</a>
            <a href="/tornado%E8%B7%AF%E7%94%B1%E8%A7%84%E5%88%99%E4%B8%8E%E8%A1%8C%E4%B8%BA%E6%96%B9%E6%B3%95%E4%B8%8E%E5%88%87%E5%85%A5%E7%82%B9%E5%87%BD%E6%95%B0/" class="next" rel="next" title="tornadoè·¯ç”±è§„åˆ™ä¸è¡Œä¸ºæ–¹æ³•ä¸åˆ‡å…¥ç‚¹å‡½æ•°">tornadoè·¯ç”±è§„åˆ™ä¸è¡Œä¸ºæ–¹æ³•ä¸åˆ‡å…¥ç‚¹å‡½æ•°<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">ç”±<a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.68.3">Hugo</a> é©±åŠ¨ | ä¸»é¢˜-<a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a> | ä¹ƒæœ¨å‚46
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2016 - 2020</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">ä¹¦å…°</a></span><span class="icp-splitter">&nbsp;|&nbsp;</span><br class="icp-br"/>
                    <span class="icp"><a target="_blank" href="https://weibo.com/u/7266809683">æ¬¢è¿å¾®åšå…³æ³¨@è¥¿é‡ä¸ƒç€¬</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="å›åˆ°é¡¶éƒ¨">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="æŸ¥çœ‹è¯„è®º">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/lightgallery/lightgallery.min.css"><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/twemoji/twemoji.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lightgallery.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-thumbnail.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-zoom.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"å¤åˆ¶åˆ°å‰ªè´´æ¿","maxShownLines":10},"comment":{},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"twemoji":true};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
