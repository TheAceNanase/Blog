<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Djangoå°†mixinsä¸åŸºäºç±»çš„è§†å›¾ä¸€èµ·ä½¿ç”¨ - ğŸ’—Nanase</title><meta name="Description" content=""><meta property="og:title" content="Djangoå°†mixinsä¸åŸºäºç±»çš„è§†å›¾ä¸€èµ·ä½¿ç”¨" />
<meta property="og:description" content="åœ¨åŸºäºç±»çš„è§†å›¾ä¸­ä½¿ç”¨mixins è­¦å‘Šï¼š è¿™æ˜¯ä¸€ä¸ªé«˜çº§ä¸»é¢˜ã€‚åœ¨æ¢ç´¢è¿™äº›æŠ€æœ¯ä¹‹å‰ï¼Œå»ºè®®æ‚¨å¯¹DjangoåŸºäºç±»çš„è§†å›¾æœ‰ä¸€å®šçš„äº†è§£ã€‚ Djangoçš„å†…ç½®" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://www.nishinonanase.xyz/django%E5%B0%86mixins%E4%B8%8E%E5%9F%BA%E4%BA%8E%E7%B1%BB%E7%9A%84%E8%A7%86%E5%9B%BE%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8/" />
<meta property="og:image" content="http://www.nishinonanase.xyz/logo.png"/>
<meta property="article:published_time" content="2018-01-22T22:08:04+08:00" />
<meta property="article:modified_time" content="2018-01-22T22:08:04+08:00" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="http://www.nishinonanase.xyz/logo.png"/>

<meta name="twitter:title" content="Djangoå°†mixinsä¸åŸºäºç±»çš„è§†å›¾ä¸€èµ·ä½¿ç”¨"/>
<meta name="twitter:description" content="åœ¨åŸºäºç±»çš„è§†å›¾ä¸­ä½¿ç”¨mixins è­¦å‘Šï¼š è¿™æ˜¯ä¸€ä¸ªé«˜çº§ä¸»é¢˜ã€‚åœ¨æ¢ç´¢è¿™äº›æŠ€æœ¯ä¹‹å‰ï¼Œå»ºè®®æ‚¨å¯¹DjangoåŸºäºç±»çš„è§†å›¾æœ‰ä¸€å®šçš„äº†è§£ã€‚ Djangoçš„å†…ç½®"/>
<meta name="application-name" content="ğŸ’—Nanase">
<meta name="apple-mobile-web-app-title" content="ğŸ’—Nanase"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://www.nishinonanase.xyz/django%E5%B0%86mixins%E4%B8%8E%E5%9F%BA%E4%BA%8E%E7%B1%BB%E7%9A%84%E8%A7%86%E5%9B%BE%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8/" /><link rel="prev" href="http://www.nishinonanase.xyz/django%E4%BD%BF%E7%94%A8%E5%9F%BA%E4%BA%8E%E7%B1%BB%E7%9A%84%E8%A7%86%E5%9B%BE%E8%BF%9B%E8%A1%8C%E8%A1%A8%E5%8D%95%E5%A4%84%E7%90%86/" /><link rel="next" href="http://www.nishinonanase.xyz/django%E4%BD%BF%E7%94%A8wsgi%E8%BF%9B%E8%A1%8C%E9%83%A8%E7%BD%B2/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Djangoå°†mixinsä¸åŸºäºç±»çš„è§†å›¾ä¸€èµ·ä½¿ç”¨",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/www.nishinonanase.xyz\/django%E5%B0%86mixins%E4%B8%8E%E5%9F%BA%E4%BA%8E%E7%B1%BB%E7%9A%84%E8%A7%86%E5%9B%BE%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8\/"
        },"genre": "posts","keywords": "åç«¯æ¡†æ¶, Django, Python","wordcount":  7571 ,
        "url": "http:\/\/www.nishinonanase.xyz\/django%E5%B0%86mixins%E4%B8%8E%E5%9F%BA%E4%BA%8E%E7%B1%BB%E7%9A%84%E8%A7%86%E5%9B%BE%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8\/","datePublished": "2018-01-22T22:08:04+08:00","dateModified": "2018-01-22T22:08:04+08:00","publisher": {
            "@type": "Organization",
            "name": "Nanase","logo": "http:\/\/www.nishinonanase.xyz\/images\/avatar.png"},"author": {
                "@type": "Person",
                "name": "Nanase"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : '' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="ğŸ’—Nanase">ğŸ’—Nanase</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> ğŸ‘å…¨éƒ¨æ–‡ç«  </a><a class="menu-item" href="/tags/"> ğŸŠæ ‡ç­¾ </a><a class="menu-item" href="/categories/"> ğŸ“åˆ†ç±» </a><a class="menu-item" href="/about/"> ğŸ¥å…³äº </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="ğŸ’—Nanase">ğŸ’—Nanase</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/posts/" title="">ğŸ‘å…¨éƒ¨æ–‡ç« </a><a class="menu-item" href="/tags/" title="">ğŸŠæ ‡ç­¾</a><a class="menu-item" href="/categories/" title="">ğŸ“åˆ†ç±»</a><a class="menu-item" href="/about/" title="">ğŸ¥å…³äº</a><a href="javascript:void(0);" class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">ç›®å½•</h2>
            <div class="toc-content always-active" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Djangoå°†mixinsä¸åŸºäºç±»çš„è§†å›¾ä¸€èµ·ä½¿ç”¨</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://www.nishinonanase.xyz/" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>Nanase</a></span>&nbsp;<span class="post-category">æ”¶å½•äº <a href="/categories/%E5%9F%BA%E7%A1%80%E7%90%86%E8%AE%BA/"><i class="far fa-folder fa-fw"></i>åŸºç¡€ç†è®º</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2018-01-22">2018-01-22</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;çº¦ 7571 å­—&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;é¢„è®¡é˜…è¯» 16 åˆ†é’Ÿ&nbsp;<span id="/django%E5%B0%86mixins%E4%B8%8E%E5%9F%BA%E4%BA%8E%E7%B1%BB%E7%9A%84%E8%A7%86%E5%9B%BE%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8/" class="leancloud_visitors" data-flag-title="Djangoå°†mixinsä¸åŸºäºç±»çš„è§†å›¾ä¸€èµ·ä½¿ç”¨">
                        <i class="far fa-eye fa-fw"></i>&nbsp;<span class=leancloud-visitors-count></span>&nbsp;æ¬¡é˜…è¯»
                    </span>&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>ç›®å½•</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#åœ¨åŸºäºç±»çš„è§†å›¾ä¸­ä½¿ç”¨mixins">åœ¨åŸºäºç±»çš„è§†å›¾ä¸­ä½¿ç”¨mixins</a>
      <ul>
        <li><a href="#ä¸Šä¸‹æ–‡å’Œæ¨¡æ¿ç­”å¤">ä¸Šä¸‹æ–‡å’Œæ¨¡æ¿ç­”å¤</a></li>
        <li><a href="#å»ºç«‹djangoåŸºäºç±»çš„é€šç”¨è§†å›¾">å»ºç«‹DjangoåŸºäºç±»çš„é€šç”¨è§†å›¾</a>
          <ul>
            <li><a href="#detailviewä½¿ç”¨å•ä¸ªdjangoå¯¹è±¡">DetailViewï¼šä½¿ç”¨å•ä¸ªDjangoå¯¹è±¡</a></li>
            <li><a href="#listviewä½¿ç”¨è®¸å¤šdjangoå¯¹è±¡">ListViewï¼šä½¿ç”¨è®¸å¤šDjangoå¯¹è±¡</a></li>
          </ul>
        </li>
        <li><a href="#ä½¿ç”¨djangoçš„åŸºäºç±»çš„è§†å›¾æ··å…¥">ä½¿ç”¨Djangoçš„åŸºäºç±»çš„è§†å›¾æ··å…¥</a>
          <ul>
            <li><a href="#singleobjectmixinä¸viewä¸€èµ·ä½¿ç”¨">SingleObjectMixinä¸Viewä¸€èµ·ä½¿ç”¨</a></li>
            <li><a href="#singleobjectmixinä¸-ä½¿ç”¨listview">SingleObjectMixinä¸ ä½¿ç”¨ListView</a></li>
          </ul>
        </li>
        <li><a href="#é¿å…ä»»ä½•æ›´å¤æ‚">é¿å…ä»»ä½•æ›´å¤æ‚</a>
          <ul>
            <li><a href="#formmixinä¸--ä½¿ç”¨detailview">FormMixinä¸  ä½¿ç”¨DetailView</a></li>
            <li><a href="#æ›´å¥½çš„è§£å†³æ–¹æ¡ˆ">æ›´å¥½çš„è§£å†³æ–¹æ¡ˆ</a></li>
            <li><a href="#å¦ä¸€ç§æ›´å¥½çš„è§£å†³æ–¹æ¡ˆ">å¦ä¸€ç§æ›´å¥½çš„è§£å†³æ–¹æ¡ˆ</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h1 id="åœ¨åŸºäºç±»çš„è§†å›¾ä¸­ä½¿ç”¨mixins">åœ¨åŸºäºç±»çš„è§†å›¾ä¸­ä½¿ç”¨mixins</h1>
<p><strong>è­¦å‘Šï¼š</strong> è¿™æ˜¯ä¸€ä¸ªé«˜çº§ä¸»é¢˜ã€‚åœ¨æ¢ç´¢è¿™äº›æŠ€æœ¯ä¹‹å‰ï¼Œå»ºè®®æ‚¨å¯¹<a href="https://www.w3cschool.cn/django/django-lq1g37h4.html" target="_blank" rel="noopener noreffer">DjangoåŸºäºç±»çš„è§†å›¾</a>æœ‰ä¸€å®šçš„äº†è§£ã€‚</p>
<p>Djangoçš„å†…ç½®åŸºäºç±»çš„è§†å›¾æä¾›äº†è®¸å¤šåŠŸèƒ½ï¼Œä½†æ‚¨å¯èƒ½éœ€è¦å•ç‹¬ä½¿ç”¨å…¶ä¸­çš„ä¸€äº›åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½æƒ³ç¼–å†™ä¸€ä¸ªè§†å›¾ï¼Œè¯¥è§†å›¾å‘ˆç°ä¸€ä¸ªæ¨¡æ¿ä»¥è¿›è¡ŒHTTPå“åº”ï¼Œä½†æ˜¯æ‚¨ä¸èƒ½ä½¿ç”¨ TemplateView;  ä¹Ÿè®¸æ‚¨åªéœ€è¦åœ¨ä¸Šæ¸²æŸ“æ¨¡æ¿POSTï¼Œç„¶åGETå®Œå…¨æ‰§è¡Œå…¶ä»–æ“ä½œå³å¯ã€‚è™½ç„¶æ‚¨å¯ä»¥TemplateResponseç›´æ¥ä½¿ç”¨ ï¼Œä½†è¿™å¯èƒ½ä¼šå¯¼è‡´ä»£ç é‡å¤ã€‚</p>
<p>å› æ­¤ï¼ŒDjangoè¿˜æä¾›äº†è®¸å¤šæ··åˆå™¨ï¼Œè¿™äº›æ··åˆå™¨æä¾›äº†æ›´å¤šç¦»æ•£åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œæ¨¡æ¿å‘ˆç°å°è£…åœ¨ä¸­ TemplateResponseMixinã€‚Djangoå‚è€ƒæ–‡æ¡£åŒ…å«æ‰€æœ‰mixinsçš„å®Œæ•´æ–‡æ¡£ã€‚</p>
<h2 id="ä¸Šä¸‹æ–‡å’Œæ¨¡æ¿ç­”å¤">ä¸Šä¸‹æ–‡å’Œæ¨¡æ¿ç­”å¤</h2>
<p>æä¾›äº†ä¸¤ä¸ªä¸­å¤®mixinï¼Œå®ƒä»¬æœ‰åŠ©äºåœ¨ä½¿ç”¨åŸºäºç±»çš„è§†å›¾ä¸­çš„æ¨¡æ¿æ—¶æä¾›ä¸€è‡´çš„ç•Œé¢ã€‚</p>
<ul>
<li>TemplateResponseMixinæ¯ä¸ªè¿”å›açš„å†…ç½®è§†å›¾éƒ½ TemplateResponseå°†è°ƒç”¨æä¾›çš„ render_to_response()  æ–¹æ³•TemplateResponseMixinã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œéƒ½ä¼šä¸ºæ‚¨è°ƒç”¨æ­¤get()æ–¹æ³•ï¼ˆä¾‹å¦‚ï¼Œç”±TemplateViewå’Œ  å®ç°çš„æ–¹æ³•éƒ½è°ƒç”¨å®ƒDetailViewï¼‰ï¼›åŒæ ·ï¼Œä¸å¤ªå¯èƒ½éœ€è¦è¦†ç›–å®ƒï¼Œå°½ç®¡å¦‚æœæ‚¨å¸Œæœ›å“åº”è¿”å›çš„å†…å®¹ä¸æ˜¯é€šè¿‡Djangoæ¨¡æ¿å‘ˆç°çš„ï¼Œé‚£ä¹ˆæ‚¨å°±éœ€è¦è¿™æ ·åšã€‚æœ‰å…³æ­¤ç¤ºä¾‹ï¼Œè¯·å‚è§JSONResponseMixinç¤ºä¾‹ã€‚render_to_response()æœ¬èº«è°ƒç”¨ get_template_names()ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼š  template_nameåœ¨åŸºäºç±»çš„è§†å›¾ä¸ŠæŸ¥è¯¢ï¼›å…¶ä»–ä¸¤ä¸ªmixinï¼ˆSingleObjectTemplateResponseMixin å’Œ  MultipleObjectTemplateResponseMixinï¼‰è¦†ç›–æ­¤å±æ€§ï¼Œä»¥ä¾¿åœ¨å¤„ç†å®é™…å¯¹è±¡æ—¶æä¾›æ›´çµæ´»çš„é»˜è®¤å€¼ã€‚</li>
<li>ContextMixinæ¯ä¸ªéœ€è¦ä¸Šä¸‹æ–‡æ•°æ®ï¼ˆä¾‹å¦‚ç”¨äºæ¸²æŸ“æ¨¡æ¿ï¼ˆåŒ…æ‹¬TemplateResponseMixinä¸Šè¿°å†…å®¹ï¼‰ï¼‰çš„å†…ç½®è§†å›¾éƒ½åº”è°ƒç”¨ get_context_data()ä¼ é€’å®ƒä»¬æƒ³è¦ç¡®ä¿ä½äºå…¶ä¸­çš„ä»»ä½•æ•°æ®ä½œä¸ºå…³é”®å­—å‚æ•°ã€‚  get_context_data()è¿”å›å­—å…¸ï¼›åœ¨ContextMixinå…¶ä¸­è¿”å›å…¶å…³é”®å­—å‚æ•°ï¼Œä½†æ˜¯é€šå¸¸ä¼šè¦†ç›–æ­¤å‚æ•°ä»¥å°†æ›´å¤šæˆå‘˜æ·»åŠ åˆ°å­—å…¸ä¸­ã€‚æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨è¯¥ extra_contextå±æ€§ã€‚</li>
</ul>
<h2 id="å»ºç«‹djangoåŸºäºç±»çš„é€šç”¨è§†å›¾">å»ºç«‹DjangoåŸºäºç±»çš„é€šç”¨è§†å›¾</h2>
<p>è®©æˆ‘ä»¬çœ‹çœ‹Djangoçš„ä¸¤ä¸ªåŸºäºç±»çš„é€šç”¨è§†å›¾æ˜¯å¦‚ä½•é€šè¿‡æä¾›ç¦»æ•£åŠŸèƒ½çš„mixinæ„å»ºçš„ã€‚æˆ‘ä»¬å°†è€ƒè™‘ DetailViewï¼Œå®ƒå‘ˆç°ä¸€ä¸ªå¯¹è±¡çš„â€œè¯¦ç»†â€è§†å›¾ï¼Œè€Œ  ListViewï¼Œå®ƒå°†å‘ˆç°ä¸€ä¸ªå¯¹è±¡åˆ—è¡¨ï¼ˆé€šå¸¸æ¥è‡ªæŸ¥è¯¢é›†ï¼‰ï¼Œå¹¶å¯é€‰åœ°å¯¹å®ƒä»¬è¿›è¡Œåˆ†é¡µã€‚è¿™å°†å‘æˆ‘ä»¬ä»‹ç»å››ä¸ªmixinï¼Œå®ƒä»¬åœ¨ä½¿ç”¨å•ä¸ªDjangoå¯¹è±¡æˆ–å¤šä¸ªå¯¹è±¡æ—¶æä¾›æœ‰ç”¨çš„åŠŸèƒ½ã€‚</p>
<p>ä¹Ÿæœ‰å‚ä¸é€šç”¨ç¼–è¾‘è§‚ç‚¹æ··å…¥ï¼ˆFormViewå’Œç‰¹å®šå‹å·çš„æ„è§CreateViewï¼Œ UpdateViewå’Œ DeleteViewï¼‰ï¼Œå¹¶åœ¨åŸºäºæ—¥æœŸçš„é€šç”¨è§†å›¾ã€‚è¿™äº›å·²åœ¨mixinå‚è€ƒæ–‡æ¡£ä¸­ä»‹ç»ã€‚</p>
<h3 id="detailviewä½¿ç”¨å•ä¸ªdjangoå¯¹è±¡">DetailViewï¼šä½¿ç”¨å•ä¸ªDjangoå¯¹è±¡</h3>
<p>è¦æ˜¾ç¤ºå¯¹è±¡çš„è¯¦ç»†ä¿¡æ¯ï¼Œæˆ‘ä»¬åŸºæœ¬ä¸Šéœ€è¦åšä¸¤ä»¶äº‹ï¼šæˆ‘ä»¬éœ€è¦æŸ¥æ‰¾å¯¹è±¡ï¼Œç„¶åéœ€è¦TemplateResponseä½¿ç”¨åˆé€‚çš„æ¨¡æ¿åˆ¶ä½œä¸€ä¸ª ï¼Œå¹¶å°†è¯¥å¯¹è±¡ä½œä¸ºä¸Šä¸‹æ–‡ã€‚</p>
<p>è¦è·å¾—è¯¥å¯¹è±¡ï¼Œéœ€è¦DetailView ä¾èµ–SingleObjectMixinï¼Œè¯¥get_object() æ–¹æ³•æä¾›äº†ä¸€ç§æ–¹æ³•ï¼Œè¯¥  æ–¹æ³•å¯ä»¥æ ¹æ®è¯·æ±‚çš„URLæ‰¾å‡ºå¯¹è±¡ï¼ˆå®ƒä¼šæ ¹æ®URLConfä¸­çš„å£°æ˜æŸ¥æ‰¾pkå’Œslugå…³é”®å­—å‚æ•°ï¼Œç„¶åä»modelè§†å›¾çš„å±æ€§ä¸­æŸ¥æ‰¾è¯¥å¯¹è±¡ ï¼Œæˆ–æä¾›çš„ queryset å±æ€§ï¼‰ã€‚SingleObjectMixinä¹Ÿä¼šè¦†ç›–  get_context_data()ï¼Œå®ƒåœ¨æ‰€æœ‰Djangoçš„æ‰€æœ‰åŸºäºç±»çš„å†…ç½®è§†å›¾ä¸­ä½¿ç”¨ï¼Œä»¥ä¸ºæ¨¡æ¿æ¸²æŸ“æä¾›ä¸Šä¸‹æ–‡æ•°æ®ã€‚</p>
<p>ç„¶åTemplateResponseï¼Œè¦ DetailViewä½¿ç”¨SingleObjectTemplateResponseMixinï¼Œåˆ™ä½¿ç”¨ ï¼Œ  å¦‚ä¸Šæ‰€è®¨è®ºçš„ï¼Œå®ƒæ‰©å±•äº†TemplateResponseMixinï¼Œè¦†ç›–  get_template_names()ã€‚å®é™…ä¸Šï¼Œå®ƒæä¾›äº†ä¸€ç»„ç›¸å½“å¤æ‚çš„é€‰é¡¹ï¼Œä½†æ˜¯å¤§å¤šæ•°äººè¦ä½¿ç”¨çš„ä¸»è¦é€‰é¡¹æ˜¯  /_detail.htmlã€‚è¯¥_detailéƒ¨åˆ†å¯ä»¥é€šè¿‡è®¾ç½®æ¥æ”¹å˜ template_name_suffix  çš„ä¸€ä¸ªå­ç±»åˆ«çš„ä¸œè¥¿ã€‚ï¼ˆä¾‹å¦‚ï¼Œé€šç”¨ç¼–è¾‘è§‚ç‚¹ä½¿ç”¨_formçš„åˆ›å»ºå’Œæ›´æ–°çš„æ„è§ï¼Œå¹¶ _confirm_deleteè¿›è¡Œåˆ é™¤çš„æ„è§ã€‚ï¼‰</p>
<h3 id="listviewä½¿ç”¨è®¸å¤šdjangoå¯¹è±¡">ListViewï¼šä½¿ç”¨è®¸å¤šDjangoå¯¹è±¡</h3>
<p>å¯¹è±¡åˆ—è¡¨éµå¾ªå¤§è‡´ç›¸åŒçš„æ¨¡å¼ï¼šæˆ‘ä»¬éœ€è¦ä¸€ä¸ªï¼ˆå¯èƒ½æ˜¯åˆ†é¡µçš„ï¼‰å¯¹è±¡åˆ—è¡¨ï¼Œé€šå¸¸ä¸º QuerySetï¼Œç„¶åæˆ‘ä»¬éœ€è¦TemplateResponseä½¿ç”¨è¯¥å¯¹è±¡åˆ—è¡¨ä½¿ç”¨åˆé€‚çš„æ¨¡æ¿åˆ¶ä½œä¸€ä¸ª ã€‚</p>
<p>è¦è·å–å¯¹è±¡ï¼Œè¯·ListViewä½¿ç”¨ MultipleObjectMixinï¼ŒåŒæ—¶æä¾› get_queryset() å’Œ  paginate_queryset()ã€‚ä¸withä¸åŒSingleObjectMixinï¼Œä¸éœ€è¦å…³é—­URLçš„ä¸€éƒ¨åˆ†æ¥ç¡®å®šè¦ä½¿ç”¨çš„æŸ¥è¯¢é›†ï¼Œå› æ­¤é»˜è®¤å€¼ä½¿ç”¨ viewç±»ä¸Šçš„querysetor modelå±æ€§ã€‚è¦†ç›–get_queryset() æ­¤å¤„çš„å¸¸è§åŸå›   æ˜¯åŠ¨æ€åœ°æ”¹å˜å¯¹è±¡ï¼Œä¾‹å¦‚å–å†³äºå½“å‰ç”¨æˆ·æˆ–æ’é™¤åšå®¢çš„å°†æ¥å¸–å­ã€‚</p>
<p>MultipleObjectMixinè¿˜é‡å†™ get_context_data()ä»¥åŒ…æ‹¬ç”¨äºåˆ†é¡µçš„é€‚å½“ä¸Šä¸‹æ–‡å˜é‡ï¼ˆå¦‚æœç¦ç”¨äº†åˆ†é¡µï¼Œåˆ™æä¾›è™šæ‹Ÿå˜é‡ï¼‰ã€‚å®ƒä¾èµ–object_listäºä½œä¸ºå…³é”®å­—å‚æ•°è¿›è¡Œä¼ é€’çš„å…³é”®å­—å‚æ•°ListViewã€‚</p>
<p>åšä¸€ä¸ªTemplateResponseï¼Œ ListViewç„¶åä½¿ç”¨ MultipleObjectTemplateResponseMixin;  ä¸SingleObjectTemplateResponseMixin  ä¸Šé¢çš„æ–¹æ³•ä¸€æ ·ï¼Œæ­¤æ–¹æ³•å°†è¦†ç›–ï¼Œget_template_names()ä»¥æä¾›ï¼Œæœ€å¸¸ç”¨çš„æ˜¯ ï¼Œè€Œè¯¥éƒ¨åˆ†å†æ¬¡ä»  å±æ€§ä¸­è·å–ã€‚ï¼ˆåŸºäºæ—¥æœŸçš„é€šç”¨è§†å›¾ä½¿ç”¨è¯¸å¦‚çš„åç¼€ï¼Œ ä»¥æ­¤ç±»æ¨ï¼Œä»¥ä¾¿ä¸ºå„ç§ä¸“é—¨çš„åŸºäºæ—¥æœŸçš„åˆ—è¡¨è§†å›¾ä½¿ç”¨ä¸åŒçš„æ¨¡æ¿ã€‚ï¼‰a range of  options/_list.html<code>_listtemplate_name_suffix_archive</code>_archive_year</p>
<h2 id="ä½¿ç”¨djangoçš„åŸºäºç±»çš„è§†å›¾æ··å…¥">ä½¿ç”¨Djangoçš„åŸºäºç±»çš„è§†å›¾æ··å…¥</h2>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»äº†è§£äº†Djangoçš„åŸºäºç±»çš„é€šç”¨è§†å›¾å¦‚ä½•ä½¿ç”¨æä¾›çš„mixinsï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹å°†å®ƒä»¬ç»„åˆåœ¨ä¸€èµ·çš„å…¶ä»–æ–¹æ³•ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä»å°†å®ƒä»¬ä¸å†…ç½®çš„åŸºäºç±»çš„è§†å›¾æˆ–å…¶ä»–é€šç”¨çš„åŸºäºç±»çš„è§†å›¾ç»“åˆèµ·æ¥ï¼Œä½†æ˜¯æ‚¨å¯ä»¥è§£å†³è®¸å¤šæ¯”Djangoå¼€ç®±å³ç”¨çš„ç½•è§é—®é¢˜ã€‚</p>
<p>**è­¦å‘Šï¼š**å¹¶éæ‰€æœ‰çš„mixinéƒ½å¯ä»¥ä¸€èµ·ä½¿ç”¨ï¼Œä¹Ÿä¸æ˜¯æ‰€æœ‰åŸºäºé€šç”¨ç±»çš„è§†å›¾éƒ½å¯ä»¥ä¸æ‰€æœ‰å…¶ä»–mixinä¸€èµ·ä½¿ç”¨ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æä¾›äº†ä¸€äº›å¯è¡Œçš„ç¤ºä¾‹ã€‚å¦‚æœè¦åˆå¹¶å…¶ä»–åŠŸèƒ½ï¼Œåˆ™å¿…é¡»è€ƒè™‘ä½¿ç”¨çš„ä¸åŒç±»ä¹‹é—´é‡å çš„å±æ€§å’Œæ–¹æ³•ä¹‹é—´çš„äº¤äº’ï¼Œä»¥åŠæ–¹æ³•è§£æé¡ºåºå°†å¦‚ä½•å½±å“ä»¥ä½•ç§é¡ºåºè°ƒç”¨å“ªäº›ç‰ˆæœ¬çš„æ–¹æ³•ã€‚</p>
<p>Djangoçš„åŸºäºç±»çš„è§†å›¾å’ŒåŸºäºç±»çš„è§†å›¾mixinçš„å‚è€ƒæ–‡æ¡£å°†å¸®åŠ©æ‚¨äº†è§£å“ªäº›å±æ€§å’Œæ–¹æ³•å¯èƒ½ä¼šå¯¼è‡´ä¸åŒçš„ç±»å’Œmixinä¹‹é—´å‘ç”Ÿå†²çªã€‚</p>
<p>å¦‚æœ‰ç–‘é—®ï¼Œé€šå¸¸æœ€å¥½è¿˜æ˜¯æ”¾å¼ƒå¹¶ä»¥ Viewæˆ–ä¸ºåŸºç¡€TemplateViewï¼Œä¹Ÿè®¸ä½¿ç”¨ SingleObjectMixinå’Œ  MultipleObjectMixinã€‚å°½ç®¡æ‚¨å¯èƒ½æœ€ç»ˆä¼šå†™å‡ºæ›´å¤šçš„ä»£ç ï¼Œä½†æ˜¯ä»¥åå…¶ä»–äººå¯èƒ½æ›´å®¹æ˜“ç†è§£å®ƒï¼Œè€Œæ›´å°‘çš„äº¤äº’æ€§è®©æ‚¨æ‹…å¿ƒï¼Œå¯ä»¥èŠ‚çœä¸€äº›æ—¶é—´ã€‚ï¼ˆå½“ç„¶ï¼Œæ‚¨æ€»æ˜¯å¯ä»¥æ·±å…¥äº†è§£DjangoåŸºäºç±»çš„é€šç”¨è§†å›¾çš„å®ç°ï¼Œä»¥è·å–æœ‰å…³å¦‚ä½•è§£å†³é—®é¢˜çš„çµæ„Ÿã€‚ï¼‰</p>
<h3 id="singleobjectmixinä¸viewä¸€èµ·ä½¿ç”¨">SingleObjectMixinä¸Viewä¸€èµ·ä½¿ç”¨</h3>
<p>å¦‚æœæˆ‘ä»¬è¦ç¼–å†™ä¸€ä¸ªä»…å¯¹åšå‡ºå“åº”çš„åŸºäºç±»çš„è§†å›¾ï¼Œåˆ™å°†åˆ›å»ºå­POSTç±»Viewå¹¶post()åœ¨è¯¥å­ç±»ä¸­ç¼–å†™ä¸€ä¸ªæ–¹æ³•ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„å¤„ç†èƒ½å¤Ÿå¤„ç†ä»URLè¯†åˆ«çš„ç‰¹å®šå¯¹è±¡ï¼Œæˆ‘ä»¬å°†éœ€è¦æä¾›çš„åŠŸèƒ½ SingleObjectMixinã€‚</p>
<p>æˆ‘ä»¬å°†é€šè¿‡åœ¨åŸºäºé€šç”¨ç±»çš„è§†å›¾ç®€ä»‹ä¸­Authorä½¿ç”¨çš„æ¨¡å‹æ¥ æ¼”ç¤ºè¿™ä¸€ç‚¹ã€‚</p>
<p>çš„views.py</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">from django.http import HttpResponseForbidden, HttpResponseRedirect
from django.urls import reverse
from django.views import View
from django.views.generic.detail import SingleObjectMixin
from books.models import Author

class RecordInterest(SingleObjectMixin, View):
    &#34;&#34;&#34;Records the current user&#39;s interest in an author.&#34;&#34;&#34;
    model = Author

    def post(self, request, *args, **kwargs):
        if not request.user.is_authenticated:
            return HttpResponseForbidden()

        # Look up the author we&#39;re interested in.
        self.object = self.get_object()
        # Actually record interest somehow here!

        return HttpResponseRedirect(reverse(&#39;author-detail&#39;, kwargs={&#39;pk&#39;: self.object.pk}))
</code></pre></td></tr></table>
</div>
</div><p>å®é™…ä¸Šï¼Œæ‚¨å¯èƒ½å¸Œæœ›å°†å…´è¶£è®°å½•åœ¨é”®å€¼å­˜å‚¨è€Œä¸æ˜¯å…³ç³»æ•°æ®åº“ä¸­ï¼Œå› æ­¤æˆ‘ä»¬çœç•¥äº†è¿™ä¸€ç‚¹ã€‚å”¯ä¸€éœ€è¦æ‹…å¿ƒä½¿ç”¨çš„è§†å›¾ SingleObjectMixinå°±æ˜¯æˆ‘ä»¬è¦æŸ¥æ‰¾æ„Ÿå…´è¶£çš„ä½œè€…çš„åœ°æ–¹ï¼Œå®ƒé€šè¿‡è°ƒç”¨æ¥å®Œæˆ  self.get_object()ã€‚mixinä¼šä¸ºæˆ‘ä»¬å¤„ç†å…¶ä»–æ‰€æœ‰äº‹åŠ¡ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°å°†å…¶æŒ‚æ¥åˆ°æˆ‘ä»¬çš„URLä¸­ï¼š</p>
<p>çš„urls.py</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">from django.urls import path
from books.views import RecordInterest

urlpatterns = [
    #...
    path(&#39;author/&lt;int:pk&gt;/interest/&#39;, RecordInterest.as_view(), name=&#39;author-interest&#39;),
]
</code></pre></td></tr></table>
</div>
</div><p>è¯·æ³¨æ„pkå‘½åç»„ï¼Œè¯¥ç»„ get_object()ç”¨äºæŸ¥æ‰¾Authorå®ä¾‹ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨slugæˆ–çš„ä»»ä½•å…¶ä»–åŠŸèƒ½ SingleObjectMixinã€‚</p>
<h3 id="singleobjectmixinä¸-ä½¿ç”¨listview">SingleObjectMixinä¸ ä½¿ç”¨ListView</h3>
<p>ListViewæä¾›å†…ç½®çš„åˆ†é¡µåŠŸèƒ½ï¼Œä½†æ˜¯æ‚¨å¯èƒ½å¸Œæœ›å¯¹æ‰€æœ‰é€šè¿‡å¤–é”®é“¾æ¥åˆ°å¦ä¸€ä¸ªå¯¹è±¡çš„å¯¹è±¡åˆ—è¡¨è¿›è¡Œåˆ†é¡µã€‚åœ¨æˆ‘ä»¬çš„å‡ºç‰ˆç¤ºä¾‹ä¸­ï¼Œæ‚¨å¯èƒ½å¸Œæœ›å¯¹ç‰¹å®šå‡ºç‰ˆå•†çš„æ‰€æœ‰ä¹¦ç±è¿›è¡Œåˆ†é¡µã€‚</p>
<p>ä¸€ç§å®ç°æ–¹æ³•æ˜¯ä¸ç»“åˆListViewä½¿ç”¨ SingleObjectMixinï¼Œä»¥ä¾¿åˆ†é¡µå›¾ä¹¦æ¸…å•çš„æŸ¥è¯¢é›†å¯ä»¥è„±ç¦»ä½œä¸ºå•ä¸ªå¯¹è±¡æ‰¾åˆ°çš„å‡ºç‰ˆå•†ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦æœ‰ä¸¤ä¸ªä¸åŒçš„æŸ¥è¯¢é›†ï¼š</p>
<ul>
<li>Book ç”±&hellip;ä½¿ç”¨çš„æŸ¥è¯¢é›† ListViewç”±äºæˆ‘ä»¬å¯ä»¥è®¿é—®Publisherè¦åˆ—å‡ºçš„ä¹¦ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è¦†ç›–get_queryset()å’Œä½¿ç”¨Publisherçš„åå‘å¤–é”®ç®¡ç†å™¨ã€‚</li>
<li>Publisher querysetç”¨äº  get_object()æˆ‘ä»¬å°†ä¾é çš„é»˜è®¤å®ç°get_object()æ¥è·å–æ­£ç¡®çš„Publisherå¯¹è±¡ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦æ˜¾å¼ä¼ é€’ä¸€ä¸ªquerysetå‚æ•°ï¼Œå› ä¸ºå¦åˆ™é»˜è®¤çš„çš„å®ç°get_object()å°†è°ƒç”¨ get_queryset()æˆ‘ä»¬å·²é‡å†™ä»¥è¿”å›Bookå¯¹è±¡è€Œä¸æ˜¯å¯¹è±¡çš„å¯¹è±¡Publisherã€‚</li>
</ul>
<p>**æ³¨æ„ï¼š**æˆ‘ä»¬å¿…é¡»ä»”ç»†è€ƒè™‘get_context_data()ã€‚ç”±äºSingleObjectMixinå’Œ ListViewéƒ½ä¼šå°†äº‹ç‰©æ”¾ç½®åœ¨ä¸Šä¸‹æ–‡æ•°æ®ä¸­ï¼ˆcontext_object_nameå¦‚æœå·²è®¾ç½®ï¼‰çš„å€¼ä¹‹ä¸‹ï¼Œå› æ­¤æˆ‘ä»¬å°†æ˜ç¡®ç¡®ä¿äº‹ç‰©åœ¨  Publisherä¸Šä¸‹æ–‡æ•°æ®ä¸­ã€‚ListView å°†å¢åŠ åœ¨åˆé€‚çš„page_objå’Œpaginatoræˆ‘ä»¬æä¾›æˆ‘ä»¬è®°å¾—æ‰“ç”µè¯super()ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªæ–°çš„PublisherDetailï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">from django.views.generic import ListView
from django.views.generic.detail import SingleObjectMixin
from books.models import Publisher

class PublisherDetail(SingleObjectMixin, ListView):
    paginate_by = 2
    template_name = &#34;books/publisher_detail.html&#34;

    def get(self, request, *args, **kwargs):
        self.object = self.get_object(queryset=Publisher.objects.all())
        return super().get(request, *args, **kwargs)

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context[&#39;publisher&#39;] = self.object
        return context

    def get_queryset(self):
        return self.object.book_set.all()
</code></pre></td></tr></table>
</div>
</div><p>è¯·æ³¨æ„æˆ‘ä»¬æ˜¯å¦‚ä½•è®¾ç½®çš„self.objectï¼Œget()ä»¥ä¾¿ç¨ååœ¨get_context_data()å’Œä¸­å†æ¬¡ä½¿ç”¨å®ƒget_queryset()ã€‚å¦‚æœæ‚¨æœªè®¾ç½®template_nameï¼Œåˆ™æ¨¡æ¿å°†é»˜è®¤ä¸ºæ­£å¸¸ ListViewé€‰æ‹©ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™æ˜¯ &ldquo;books/book_list.html&quot;å› ä¸ºå®ƒæ˜¯ä¸€æœ¬ä¹¦ç±æ¸…å•ï¼›  ListViewä¸€æ— æ‰€çŸ¥SingleObjectMixinï¼Œå› æ­¤æ¯«æ—  å¤´ç»ªPublisherã€‚</p>
<h2 id="é¿å…ä»»ä½•æ›´å¤æ‚">é¿å…ä»»ä½•æ›´å¤æ‚</h2>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œä½ å¯ä»¥ä½¿ç”¨ TemplateResponseMixinå’Œ  SingleObjectMixinå½“ä½ éœ€è¦å®ƒä»¬çš„åŠŸèƒ½ã€‚å¦‚ä¸Šæ‰€ç¤ºï¼Œç¨åŠ æ³¨æ„ï¼Œæ‚¨ç”šè‡³å¯ä»¥SingleObjectMixinä¸ç»“åˆä½¿ç”¨  ListViewã€‚ä½†æ˜¯ï¼Œéšç€æ‚¨å°è¯•è¿™æ ·åšï¼Œäº‹æƒ…å˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œä¸€ä¸ªå¥½çš„ç»éªŒæ³•åˆ™æ˜¯ï¼š</p>
<p>**æš—ç¤ºï¼š**æ‚¨çš„æ¯ä¸ªè§†å›¾éƒ½åº”ä»…ä½¿ç”¨mixinsæˆ–ä¸€ç»„åŸºäºç±»çš„é€šç”¨è§†å›¾ä¸­çš„è§†å›¾ï¼šè¯¦ç»†ä¿¡æ¯ï¼Œåˆ—è¡¨ï¼Œç¼–è¾‘å’Œæ—¥æœŸã€‚ä¾‹å¦‚ï¼Œå°†TemplateViewï¼ˆå†…ç½®äºè§†å›¾ä¸­ï¼‰ä¸ MultipleObjectMixinï¼ˆé€šç”¨åˆ—è¡¨ï¼‰ç»“åˆåœ¨ä¸€èµ·æ˜¯å¾ˆå¥½çš„é€‰æ‹©  ï¼Œä½†æ˜¯å°†SingleObjectMixinï¼ˆé€šç”¨ç»†èŠ‚ï¼‰ä¸MultipleObjectMixinï¼ˆé€šç”¨åˆ—è¡¨ï¼‰ç»“åˆèµ·æ¥å¯èƒ½ä¼šé‡åˆ°é—®é¢˜ã€‚</p>
<p>ä¸ºäº†æ˜¾ç¤ºå½“æ‚¨å°è¯•å˜å¾—æ›´å¤æ‚æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Œæˆ‘ä»¬å±•ç¤ºäº†ä¸€ä¸ªç¤ºä¾‹ï¼Œè¯¥ç¤ºä¾‹åœ¨å­˜åœ¨æ›´ç®€å•çš„è§£å†³æ–¹æ¡ˆæ—¶ä¼šç‰ºç‰²å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚é¦–å…ˆï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ä¸ç»“åˆDetailViewä½¿ç”¨çš„å¤©çœŸå°è¯• ï¼Œ FormMixinä»¥ä½¿æˆ‘ä»¬èƒ½å¤Ÿ POSTå°†Django Formå¸¦åˆ°ä¸æˆ‘ä»¬ä½¿ç”¨æ¥æ˜¾ç¤ºå¯¹è±¡ç›¸åŒçš„URL DetailViewã€‚</p>
<h3 id="formmixinä¸--ä½¿ç”¨detailview">FormMixinä¸  ä½¿ç”¨DetailView</h3>
<p>å›æƒ³ä¸€ä¸‹æˆ‘ä»¬å…ˆå‰ä½¿ç”¨Viewå’Œ SingleObjectMixinåœ¨ä¸€èµ·çš„ç¤ºä¾‹ã€‚æˆ‘ä»¬æ­£åœ¨è®°å½•ç”¨æˆ·å¯¹ç‰¹å®šä½œè€…çš„å…´è¶£ï¼›ç°åœ¨è¯´ï¼Œæˆ‘ä»¬è¦è®©ä»–ä»¬ç•™ä¸‹ä¿¡æ¯ï¼Œè¯´æ˜ä»–ä»¬ä¸ºä»€ä¹ˆå–œæ¬¢ä»–ä»¬ã€‚å†æ¬¡ï¼Œè®©æˆ‘ä»¬å‡è®¾æˆ‘ä»¬ä¸ä¼šå°†å…¶å­˜å‚¨åœ¨å…³ç³»æ•°æ®åº“ä¸­ï¼Œè€Œæ˜¯å­˜å‚¨åœ¨æˆ‘ä»¬ä¸å†æ‹…å¿ƒçš„æ›´æ·±å¥¥çš„ä¸œè¥¿ä¸­ã€‚</p>
<p>æ­¤æ—¶ï¼Œå¾ˆè‡ªç„¶åœ°å¯ä»¥Formå°†å°è£…ä»ç”¨æˆ·æµè§ˆå™¨å‘é€åˆ°Djangoçš„ä¿¡æ¯ã€‚è¿˜è¦è¯´æˆ‘ä»¬åœ¨RESTä¸ŠæŠ•å…¥äº†å·¨èµ„ï¼Œå› æ­¤æˆ‘ä»¬æƒ³ä½¿ç”¨ä¸æ˜¾ç¤ºæ¥è‡ªç”¨æˆ·çš„æ¶ˆæ¯ç›¸åŒçš„URLæ¥æ˜¾ç¤ºä½œè€…ã€‚è®©æˆ‘ä»¬é‡å†™æˆ‘ä»¬çš„ä»£ç AuthorDetailViewã€‚</p>
<p>å°½ç®¡å¿…é¡»å°†aæ·»åŠ åˆ°ä¸Šä¸‹æ–‡æ•°æ®ä¸­ï¼Œä»¥ä¾¿å°†å…¶å‘ˆç°åœ¨æ¨¡æ¿ä¸­ï¼Œä½†æˆ‘ä»¬å°†ä¿ç•™GETæ¥è‡ªçš„å¤„ç†ã€‚æˆ‘ä»¬è¿˜å¸Œæœ›ä»ä¸­å¼•å…¥è¡¨å•å¤„ç†ï¼Œå¹¶ç¼–å†™ä¸€äº›ä»£ç ï¼Œä»¥ä¾¿åœ¨è¡¨å•ä¸Šæ­£ç¡®è°ƒç”¨ã€‚DetailViewFormFormMixinPOST</p>
<p>**æ³¨æ„ï¼š**æˆ‘ä»¬ä½¿ç”¨FormMixinå¹¶å®ç° post()è‡ªå·±ï¼Œè€Œä¸æ˜¯å°è¯•DetailViewä¸ä¹‹ æ··åˆFormViewï¼ˆè¿™post()å·²ç»æä¾›äº†åˆé€‚çš„æ–¹æ³•ï¼‰ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªè§†å›¾éƒ½å®ç°get()ï¼Œå¹¶ä¸”äº‹æƒ…ä¼šå˜å¾—æ›´åŠ æ··ä¹±ã€‚</p>
<p>æˆ‘ä»¬çš„æ–°AuthorDetailå¤–è§‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback"># CAUTION: you almost certainly do not want to do this.
# It is provided as part of a discussion of problems you can
# run into when combining different generic class-based view
# functionality that is not designed to be used together.

from django import forms
from django.http import HttpResponseForbidden
from django.urls import reverse
from django.views.generic import DetailView
from django.views.generic.edit import FormMixin
from books.models import Author

class AuthorInterestForm(forms.Form):
    message = forms.CharField()

class AuthorDetail(FormMixin, DetailView):
    model = Author
    form_class = AuthorInterestForm

    def get_success_url(self):
        return reverse(&#39;author-detail&#39;, kwargs={&#39;pk&#39;: self.object.pk})

    def post(self, request, *args, **kwargs):
        if not request.user.is_authenticated:
            return HttpResponseForbidden()
        self.object = self.get_object()
        form = self.get_form()
        if form.is_valid():
            return self.form_valid(form)
        else:
            return self.form_invalid(form)

    def form_valid(self, form):
        # Here, we would record the user&#39;s interest using the message
        # passed in form.cleaned_data[&#39;message&#39;]
        return super().form_valid(form)
</code></pre></td></tr></table>
</div>
</div><p>get_success_url()æä¾›é‡å®šå‘åˆ°çš„ä½ç½®ï¼Œè¯¥ä½ç½®å¯ç”¨äºçš„é»˜è®¤å®ç°form_valid()ã€‚post()å¦‚å‰æ‰€è¿°ï¼Œæˆ‘ä»¬å¿…é¡»æä¾›æˆ‘ä»¬è‡ªå·±çš„ã€‚</p>
<h3 id="æ›´å¥½çš„è§£å†³æ–¹æ¡ˆ">æ›´å¥½çš„è§£å†³æ–¹æ¡ˆ</h3>
<p>ä¹‹é—´å¾®å¦™çš„ç›¸äº’ä½œç”¨çš„æ•°é‡ FormMixinå’ŒDetailViewå·²æµ‹è¯•æˆ‘ä»¬çš„ç®¡ç†äº‹ç‰©çš„èƒ½åŠ›ã€‚æ‚¨ä¸å¤ªå¯èƒ½æƒ³è‡ªå·±ç¼–å†™æ­¤ç±»ã€‚</p>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°½ç®¡ç¼–å†™å¤„ç†ä»£ç æ¶‰åŠå¾ˆå¤šé‡å¤ï¼Œä½†æ˜¯æ‚¨å¯ä»¥post()è‡ªå·±ç¼–å†™æ–¹æ³•ï¼Œå¹¶ä¿æŒ DetailViewå”¯ä¸€çš„é€šç”¨åŠŸèƒ½ Formã€‚</p>
<p>å¯æ›¿ä»£åœ°ï¼Œå®ƒä»ç„¶ä¼šæ¯”ä¸Šé¢çš„æ–¹æ³•å·¥ä½œå°‘åˆ°å…·æœ‰ç”¨äºå¤„ç†çš„å½¢å¼ï¼Œå…¶å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå•ç‹¬çš„è§†å›¾ FormViewä»ä¸åŒ DetailViewæ— é¡¾è™‘ã€‚</p>
<h3 id="å¦ä¸€ç§æ›´å¥½çš„è§£å†³æ–¹æ¡ˆ">å¦ä¸€ç§æ›´å¥½çš„è§£å†³æ–¹æ¡ˆ</h3>
<p>æˆ‘ä»¬å®é™…ä¸Šåœ¨è¿™é‡Œè¯•å›¾åšçš„æ˜¯ä½¿ç”¨æ¥è‡ªåŒä¸€URLçš„ä¸¤ä¸ªä¸åŒçš„åŸºäºç±»çš„è§†å›¾ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆä¸è¿™æ ·åšå‘¢ï¼Ÿæˆ‘ä»¬åœ¨è¿™é‡Œæœ‰ä¸€ä¸ªéå¸¸æ¸…æ¥šçš„åˆ’åˆ†ï¼šGETè¯·æ±‚åº”è·å– DetailViewï¼ˆFormæ·»åŠ åˆ°ä¸Šä¸‹æ–‡æ•°æ®ä¸­ï¼‰ï¼ŒPOSTè¯·æ±‚åº”è·å–FormViewã€‚è®©æˆ‘ä»¬å…ˆè®¾ç½®è¿™äº›è§†å›¾ã€‚</p>
<p>è¯¥AuthorDisplayè§†å›¾ä¸æˆ‘ä»¬é¦–æ¬¡å¼•å…¥AuthorDetailæ—¶å‡ ä¹ç›¸åŒï¼›æˆ‘ä»¬åœ¨å†™æˆ‘ä»¬è‡ªå·±get_context_data()ï¼Œä½¿ AuthorInterestFormå¯ç”¨çš„æ¨¡æ¿ã€‚get_object()ä¸ºäº†æ¸…æ¥šèµ·è§ï¼Œæˆ‘ä»¬å°†è·³è¿‡ä¹‹å‰çš„ æ›¿ä»£ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">from django import forms
from django.views.generic import DetailView
from books.models import Author

class AuthorInterestForm(forms.Form):
    message = forms.CharField()

class AuthorDisplay(DetailView):
    model = Author

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context[&#39;form&#39;] = AuthorInterestForm()
        return context
</code></pre></td></tr></table>
</div>
</div><p>ç„¶åAuthorInterestæ˜¯a FormViewï¼Œä½†æ˜¯æˆ‘ä»¬å¿…é¡»å¸¦è¿›æ¥ï¼Œ  SingleObjectMixinä»¥ä¾¿æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°æˆ‘ä»¬æ­£åœ¨è°ˆè®ºçš„ä½œè€…ï¼Œå¹¶ä¸”æˆ‘ä»¬å¿…é¡»è®°ä½è¿›è¡Œè®¾ç½®template_nameä»¥ç¡®ä¿è¡¨å•é”™è¯¯å°†å‘ˆç°ä¸AuthorDisplayon ç›¸åŒçš„æ¨¡æ¿GETï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">from django.http import HttpResponseForbidden
from django.urls import reverse
from django.views.generic import FormView
from django.views.generic.detail import SingleObjectMixin

class AuthorInterest(SingleObjectMixin, FormView):
    template_name = &#39;books/author_detail.html&#39;
    form_class = AuthorInterestForm
    model = Author

    def post(self, request, *args, **kwargs):
        if not request.user.is_authenticated:
            return HttpResponseForbidden()
        self.object = self.get_object()
        return super().post(request, *args, **kwargs)

    def get_success_url(self):
        return reverse(&#39;author-detail&#39;, kwargs={&#39;pk&#39;: self.object.pk})
</code></pre></td></tr></table>
</div>
</div><p>æœ€åï¼Œæˆ‘ä»¬ä»¥ä¸€ç§æ–°çš„AuthorDetailè§‚ç‚¹å°†å®ƒä»¬ç»„åˆåœ¨ä¸€èµ·ã€‚æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œè°ƒç”¨as_view()åŸºäºç±»çš„è§†å›¾ä¼šä½¿æˆ‘ä»¬çš„è¡Œä¸ºä¸åŸºäºå‡½æ•°çš„è§†å›¾å®Œå…¨ç›¸åŒï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨ä¸¤ä¸ªå­è§†å›¾ä¹‹é—´è¿›è¡Œé€‰æ‹©ã€‚</p>
<p>å½“ç„¶ï¼Œæ‚¨å¯ä»¥é€šè¿‡ä¼ é€’å…³é”®å­—å‚æ•°as_view()çš„æ–¹å¼ä¸åœ¨URLconfä¸­ä¼ é€’ æ–¹å¼ç›¸åŒï¼Œä¾‹å¦‚ï¼Œå¦‚æœæ‚¨å¸Œæœ›è¯¥AuthorInterestè¡Œä¸ºä¹Ÿå‡ºç°åœ¨å¦ä¸€ä¸ªURLä¸Šï¼Œä½†ä½¿ç”¨ä¸åŒçš„æ¨¡æ¿ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">from django.views import View

class AuthorDetail(View):

    def get(self, request, *args, **kwargs):
        view = AuthorDisplay.as_view()
        return view(request, *args, **kwargs)

    def post(self, request, *args, **kwargs):
        view = AuthorInterest.as_view()
        return view(request, *args, **kwargs)
</code></pre></td></tr></table>
</div>
</div><p>æ­¤æ–¹æ³•è¿˜å¯ä»¥ä¸ä»»ä½•å…¶ä»–ç›´æ¥ä»Viewæˆ–ç»§æ‰¿çš„å¸¸è§„åŸºäºç±»çš„è§†å›¾æˆ–æ‚¨è‡ªå·±çš„åŸºäºç±»çš„è§†å›¾ä¸€èµ·ä½¿ç”¨ TemplateViewï¼Œå› ä¸ºå®ƒå¯ä»¥ä½¿ä¸åŒçš„è§†å›¾å°½å¯èƒ½åœ°åˆ†å¼€ã€‚</p>
<p>å½“æ‚¨æƒ³å¤šæ¬¡æ‰§è¡Œç›¸åŒçš„æ“ä½œæ—¶ï¼ŒåŸºäºç±»çš„è§†å›¾å°±ä¼šå¤§æ”¾å¼‚å½©ã€‚å‡è®¾æ‚¨æ­£åœ¨ç¼–å†™ä¸€ä¸ªAPIï¼Œå¹¶ä¸”æ¯ä¸ªè§†å›¾éƒ½åº”è¿”å›JSONè€Œä¸æ˜¯å‘ˆç°çš„HTMLã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªmixinç±»ä»¥åœ¨æ‰€æœ‰è§†å›¾ä¸­ä½¿ç”¨ï¼Œä¸€æ¬¡å¤„ç†åˆ°JSONçš„è½¬æ¢ã€‚</p>
<p>ä¾‹å¦‚ï¼ŒJSONæ··åˆå¯èƒ½çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">from django.http import JsonResponse

class JSONResponseMixin:
    &#34;&#34;&#34;
    A mixin that can be used to render a JSON response.
    &#34;&#34;&#34;
    def render_to_json_response(self, context, **response_kwargs):
        &#34;&#34;&#34;
        Returns a JSON response, transforming &#39;context&#39; to make the payload.
        &#34;&#34;&#34;
        return JsonResponse(
            self.get_data(context),
            **response_kwargs
        )

    def get_data(self, context):
        &#34;&#34;&#34;
        Returns an object that will be serialized as JSON by json.dumps().
        &#34;&#34;&#34;
        # Note: This is *EXTREMELY* naive; in reality, you&#39;ll need
        # to do much more complex handling to ensure that arbitrary
        # objects -- such as Django model instances or querysets
        # -- can be serialized as JSON.
        return context
</code></pre></td></tr></table>
</div>
</div><p>**æ³¨æ„ï¼š**è¯·æŸ¥çœ‹åºåˆ—åŒ–Djangoå¯¹è±¡æ–‡æ¡£ï¼Œä»¥è·å–æœ‰å…³å¦‚ä½•æ­£ç¡®å°†Djangoæ¨¡å‹å’ŒæŸ¥è¯¢é›†æ­£ç¡®è½¬æ¢ä¸ºJSONçš„æ›´å¤šä¿¡æ¯ã€‚</p>
<p>è¿™ä¸ªmixinæä¾›äº†render_to_json_response()ä¸€ç§ä¸ç­¾åç›¸åŒçš„æ–¹æ³•render_to_response()ã€‚è¦ä½¿ç”¨å®ƒï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶æ··å…¥ä¸€ä¸ªTemplateViewä¾‹å¦‚ï¼Œå¹¶é‡å†™ render_to_response()ä»¥render_to_json_response()ä»£æ›¿è°ƒç”¨ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">from django.views.generic import TemplateView

class JSONView(JSONResponseMixin, TemplateView):
    def render_to_response(self, context, **response_kwargs):
        return self.render_to_json_response(context, **response_kwargs)
</code></pre></td></tr></table>
</div>
</div><p>åŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥å°†æˆ‘ä»¬çš„mixinä¸é€šç”¨è§†å›¾ä¹‹ä¸€ä¸€èµ·ä½¿ç”¨ã€‚æˆ‘ä»¬å¯ä»¥DetailViewé€šè¿‡JSONResponseMixinä¸django.views.generic.detail.BaseDetailViewâ€“ æ··åˆæ¥åˆ¶ä½œè‡ªå·±çš„ç‰ˆæœ¬ï¼ˆæ··åˆ äº† DetailViewæ¨¡æ¿æ¸²æŸ“ä¹‹å‰çš„è¡Œä¸ºï¼‰ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">from django.views.generic.detail import BaseDetailView

class JSONDetailView(JSONResponseMixin, BaseDetailView):
    def render_to_response(self, context, **response_kwargs):
        return self.render_to_json_response(context, **response_kwargs)
</code></pre></td></tr></table>
</div>
</div><p>ç„¶åå¯ä»¥ä»¥ä¸å…¶ä»–ä»»ä½•è§†å›¾ç›¸åŒçš„æ–¹å¼éƒ¨ç½²æ­¤è§†å›¾ DetailViewï¼Œå¹¶ä¸”è¡Œä¸ºå®Œå…¨ç›¸åŒ-é™¤äº†å“åº”çš„æ ¼å¼ã€‚</p>
<p>å¦‚æœä½ æƒ³æˆä¸ºçœŸæ­£çš„å†’é™©ï¼Œä½ ç”šè‡³å¯ä»¥æ··åˆä½¿ç”¨ä¸€ä¸ª DetailViewå­ç±»ï¼Œå®ƒèƒ½å¤Ÿè¿”å›ä¸¤ä¸ª HTMLå’ŒJSONçš„å†…å®¹ï¼Œæ ¹æ®ä¸åŒçš„HTTPè¯·æ±‚ï¼Œçš„æŸäº›å±æ€§ï¼Œå¦‚æŸ¥è¯¢å‚æ•°æˆ–HTTPæ ‡å¤´ã€‚æ··åˆä½¿ç”¨  JSONResponseMixinå’Œå’Œ  SingleObjectTemplateResponseMixinï¼Œå¹¶render_to_response()  æ ¹æ®ç”¨æˆ·è¯·æ±‚çš„å“åº”ç±»å‹è¦†ç›–çš„å®ç°ï¼Œ ä»¥é‡‡ç”¨é€‚å½“çš„å‘ˆç°æ–¹æ³•ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">from django.views.generic.detail import SingleObjectTemplateResponseMixin

class HybridDetailView(JSONResponseMixin, SingleObjectTemplateResponseMixin, BaseDetailView):
    def render_to_response(self, context):
        # Look for a &#39;format=json&#39; GET argument
        if self.request.GET.get(&#39;format&#39;) == &#39;json&#39;:
            return self.render_to_json_response(context)
        else:
            return super().render_to_response(context)
</code></pre></td></tr></table>
</div>
</div><p>ç”±äºPythonè§£å†³æ–¹æ³•é‡è½½çš„æ–¹å¼ï¼Œå¯¹çš„è°ƒç”¨ super().render_to_response(context)æœ€ç»ˆè°ƒç”¨çš„ render_to_response() å®ç°TemplateResponseMixinã€‚</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>æ›´æ–°äº 2018-01-22</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/django%E5%B0%86mixins%E4%B8%8E%E5%9F%BA%E4%BA%8E%E7%B1%BB%E7%9A%84%E8%A7%86%E5%9B%BE%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8/index.md" target="_blank">é˜…è¯»åŸå§‹æ–‡æ¡£</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="åˆ†äº«åˆ° Twitter" data-sharer="twitter" data-url="http://www.nishinonanase.xyz/django%E5%B0%86mixins%E4%B8%8E%E5%9F%BA%E4%BA%8E%E7%B1%BB%E7%9A%84%E8%A7%86%E5%9B%BE%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8/" data-title="Djangoå°†mixinsä¸åŸºäºç±»çš„è§†å›¾ä¸€èµ·ä½¿ç”¨" data-hashtags="åç«¯æ¡†æ¶,Django,Python"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Facebook" data-sharer="facebook" data-url="http://www.nishinonanase.xyz/django%E5%B0%86mixins%E4%B8%8E%E5%9F%BA%E4%BA%8E%E7%B1%BB%E7%9A%84%E8%A7%86%E5%9B%BE%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8/" data-hashtag="åç«¯æ¡†æ¶"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Hacker News" data-sharer="hackernews" data-url="http://www.nishinonanase.xyz/django%E5%B0%86mixins%E4%B8%8E%E5%9F%BA%E4%BA%8E%E7%B1%BB%E7%9A%84%E8%A7%86%E5%9B%BE%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8/" data-title="Djangoå°†mixinsä¸åŸºäºç±»çš„è§†å›¾ä¸€èµ·ä½¿ç”¨"><i class="fab fa-hacker-news fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Line" data-sharer="line" data-url="http://www.nishinonanase.xyz/django%E5%B0%86mixins%E4%B8%8E%E5%9F%BA%E4%BA%8E%E7%B1%BB%E7%9A%84%E8%A7%86%E5%9B%BE%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8/" data-title="Djangoå°†mixinsä¸åŸºäºç±»çš„è§†å›¾ä¸€èµ·ä½¿ç”¨"><i data-svg-src="/lib/simple-icons/icons/line.min.svg"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° å¾®åš" data-sharer="weibo" data-url="http://www.nishinonanase.xyz/django%E5%B0%86mixins%E4%B8%8E%E5%9F%BA%E4%BA%8E%E7%B1%BB%E7%9A%84%E8%A7%86%E5%9B%BE%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8/" data-title="Djangoå°†mixinsä¸åŸºäºç±»çš„è§†å›¾ä¸€èµ·ä½¿ç”¨" data-ralateuid="5146819796"><i class="fab fa-weibo fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° ç™¾åº¦" data-sharer="baidu" data-url="http://www.nishinonanase.xyz/django%E5%B0%86mixins%E4%B8%8E%E5%9F%BA%E4%BA%8E%E7%B1%BB%E7%9A%84%E8%A7%86%E5%9B%BE%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8/" data-title="Djangoå°†mixinsä¸åŸºäºç±»çš„è§†å›¾ä¸€èµ·ä½¿ç”¨"><i data-svg-src="/lib/simple-icons/icons/baidu.min.svg"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/%E5%90%8E%E7%AB%AF%E6%A1%86%E6%9E%B6/">åç«¯æ¡†æ¶</a>,&nbsp;<a href="/tags/django/">Django</a>,&nbsp;<a href="/tags/python/">Python</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">è¿”å›</a></span>&nbsp;|&nbsp;<span><a href="/">ä¸»é¡µ</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/django%E4%BD%BF%E7%94%A8%E5%9F%BA%E4%BA%8E%E7%B1%BB%E7%9A%84%E8%A7%86%E5%9B%BE%E8%BF%9B%E8%A1%8C%E8%A1%A8%E5%8D%95%E5%A4%84%E7%90%86/" class="prev" rel="prev" title="Djangoä½¿ç”¨åŸºäºç±»çš„è§†å›¾è¿›è¡Œè¡¨å•å¤„ç†"><i class="fas fa-angle-left fa-fw"></i>Djangoä½¿ç”¨åŸºäºç±»çš„è§†å›¾è¿›è¡Œè¡¨å•å¤„ç†</a>
            <a href="/django%E4%BD%BF%E7%94%A8wsgi%E8%BF%9B%E8%A1%8C%E9%83%A8%E7%BD%B2/" class="next" rel="next" title="Djangoä½¿ç”¨WSGIè¿›è¡Œéƒ¨ç½²">Djangoä½¿ç”¨WSGIè¿›è¡Œéƒ¨ç½²<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"><div id="valine" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://valine.js.org/">Valine</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">ç”±<a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.68.3">Hugo</a> é©±åŠ¨ | ä¸»é¢˜-<a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a> | ä¹ƒæœ¨å‚46
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2016 - 2020</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://www.nishinonanase.xyz/" target="_blank">ä¹¦å…°</a></span><span class="icp-splitter">&nbsp;|&nbsp;</span><br class="icp-br"/>
                    <span class="icp"><a target="_blank" href="https://weibo.com/u/7266809683">æ¬¢è¿å¾®åšå…³æ³¨@è¥¿é‡ä¸ƒç€¬</a></span></div>
            
        </div>
    </footer><script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css"/>
<script src="https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget/autoload.js"></script></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="å›åˆ°é¡¶éƒ¨">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="æŸ¥çœ‹è¯„è®º">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/valine/valine.min.css"><link rel="stylesheet" href="/lib/lightgallery/lightgallery.min.css"><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"><link rel="stylesheet" href="https://cdn.example.com/some.css"><script type="text/javascript" src="/lib/valine/Valine.min.js"></script><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/twemoji/twemoji.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lightgallery.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-thumbnail.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-zoom.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/auto-render.min.js"></script><script type="text/javascript" src="/lib/katex/copy-tex.min.js"></script><script type="text/javascript" src="/lib/katex/mhchem.min.js"></script><script type="text/javascript" src="https://cdn.example.com/some.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"å¤åˆ¶åˆ°å‰ªè´´æ¿","maxShownLines":10},"comment":{"valine":{"appId":"pYP10MBmXAHPlpAH6etQREAF-gzGzoHsz","appKey":"U85Rh0XAdTAh3amYgmCcv8no","avatar":"mm","el":"#valine","emojiCDN":"https://cdn.jsdelivr.net/npm/emoji-datasource-google@5.0.1/img/google/64/","emojiMaps":{"100":"1f4af.png","alien":"1f47d.png","anger":"1f4a2.png","angry":"1f620.png","anguished":"1f627.png","astonished":"1f632.png","black_heart":"1f5a4.png","blue_heart":"1f499.png","blush":"1f60a.png","bomb":"1f4a3.png","boom":"1f4a5.png","broken_heart":"1f494.png","brown_heart":"1f90e.png","clown_face":"1f921.png","cold_face":"1f976.png","cold_sweat":"1f630.png","confounded":"1f616.png","confused":"1f615.png","cry":"1f622.png","crying_cat_face":"1f63f.png","cupid":"1f498.png","dash":"1f4a8.png","disappointed":"1f61e.png","disappointed_relieved":"1f625.png","dizzy":"1f4ab.png","dizzy_face":"1f635.png","drooling_face":"1f924.png","exploding_head":"1f92f.png","expressionless":"1f611.png","face_vomiting":"1f92e.png","face_with_cowboy_hat":"1f920.png","face_with_hand_over_mouth":"1f92d.png","face_with_head_bandage":"1f915.png","face_with_monocle":"1f9d0.png","face_with_raised_eyebrow":"1f928.png","face_with_rolling_eyes":"1f644.png","face_with_symbols_on_mouth":"1f92c.png","face_with_thermometer":"1f912.png","fearful":"1f628.png","flushed":"1f633.png","frowning":"1f626.png","ghost":"1f47b.png","gift_heart":"1f49d.png","green_heart":"1f49a.png","grimacing":"1f62c.png","grin":"1f601.png","grinning":"1f600.png","hankey":"1f4a9.png","hear_no_evil":"1f649.png","heart":"2764-fe0f.png","heart_decoration":"1f49f.png","heart_eyes":"1f60d.png","heart_eyes_cat":"1f63b.png","heartbeat":"1f493.png","heartpulse":"1f497.png","heavy_heart_exclamation_mark_ornament":"2763-fe0f.png","hole":"1f573-fe0f.png","hot_face":"1f975.png","hugging_face":"1f917.png","hushed":"1f62f.png","imp":"1f47f.png","innocent":"1f607.png","japanese_goblin":"1f47a.png","japanese_ogre":"1f479.png","joy":"1f602.png","joy_cat":"1f639.png","kiss":"1f48b.png","kissing":"1f617.png","kissing_cat":"1f63d.png","kissing_closed_eyes":"1f61a.png","kissing_heart":"1f618.png","kissing_smiling_eyes":"1f619.png","laughing":"1f606.png","left_speech_bubble":"1f5e8-fe0f.png","love_letter":"1f48c.png","lying_face":"1f925.png","mask":"1f637.png","money_mouth_face":"1f911.png","nauseated_face":"1f922.png","nerd_face":"1f913.png","neutral_face":"1f610.png","no_mouth":"1f636.png","open_mouth":"1f62e.png","orange_heart":"1f9e1.png","partying_face":"1f973.png","pensive":"1f614.png","persevere":"1f623.png","pleading_face":"1f97a.png","pouting_cat":"1f63e.png","purple_heart":"1f49c.png","rage":"1f621.png","relaxed":"263a-fe0f.png","relieved":"1f60c.png","revolving_hearts":"1f49e.png","right_anger_bubble":"1f5ef-fe0f.png","robot_face":"1f916.png","rolling_on_the_floor_laughing":"1f923.png","scream":"1f631.png","scream_cat":"1f640.png","see_no_evil":"1f648.png","shushing_face":"1f92b.png","skull":"1f480.png","skull_and_crossbones":"2620-fe0f.png","sleeping":"1f634.png","sleepy":"1f62a.png","slightly_frowning_face":"1f641.png","slightly_smiling_face":"1f642.png","smile":"1f604.png","smile_cat":"1f638.png","smiley":"1f603.png","smiley_cat":"1f63a.png","smiling_face_with_3_hearts":"1f970.png","smiling_imp":"1f608.png","smirk":"1f60f.png","smirk_cat":"1f63c.png","sneezing_face":"1f927.png","sob":"1f62d.png","space_invader":"1f47e.png","sparkling_heart":"1f496.png","speak_no_evil":"1f64a.png","speech_balloon":"1f4ac.png","star-struck":"1f929.png","stuck_out_tongue":"1f61b.png","stuck_out_tongue_closed_eyes":"1f61d.png","stuck_out_tongue_winking_eye":"1f61c.png","sunglasses":"1f60e.png","sweat":"1f613.png","sweat_drops":"1f4a6.png","sweat_smile":"1f605.png","thinking_face":"1f914.png","thought_balloon":"1f4ad.png","tired_face":"1f62b.png","triumph":"1f624.png","two_hearts":"1f495.png","unamused":"1f612.png","upside_down_face":"1f643.png","weary":"1f629.png","white_frowning_face":"2639-fe0f.png","white_heart":"1f90d.png","wink":"1f609.png","woozy_face":"1f974.png","worried":"1f61f.png","yawning_face":"1f971.png","yellow_heart":"1f49b.png","yum":"1f60b.png","zany_face":"1f92a.png","zipper_mouth_face":"1f910.png","zzz":"1f4a4.png"},"enableQQ":true,"highlight":true,"lang":"zh-cn","pageSize":10,"placeholder":"ä½ çš„è¯„è®º ...","recordIP":true,"visitor":true}},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"twemoji":true};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
